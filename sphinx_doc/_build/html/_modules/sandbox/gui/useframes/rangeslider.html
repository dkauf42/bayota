

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>sandbox.gui.useframes.rangeslider &mdash; OptSandbox 0.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="OptSandbox 0.1 documentation" href="../../../../index.html"/>
        <link rel="up" title="sandbox" href="../../../sandbox.html"/> 

  
  <script src="../../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../../index.html" class="icon icon-home"> OptSandbox
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../readme.html">Readme</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../sandbox.html">sandbox package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../sandbox.gui.html">sandbox.gui package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../sandbox.tables.html">sandbox.tables package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../sandbox.tests.html">sandbox.tests package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../sandbox.util.html">sandbox.util package</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../../index.html">OptSandbox</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../../../index.html">Module code</a> &raquo;</li>
      
          <li><a href="../../../sandbox.html">sandbox</a> &raquo;</li>
      
    <li>sandbox.gui.useframes.rangeslider</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for sandbox.gui.useframes.rangeslider</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Based on rangeSlider.py:</span>
<span class="sd">cmpt481</span>
<span class="sd">assignment 1 - RangleSlider in Python/Tk</span>
<span class="sd">Stephen Damm</span>
<span class="sd">sad503</span>
<span class="sd">10251739</span>
<span class="sd">February 2010</span>

<span class="sd">  &quot;THE BEER-WARE LICENSE&quot; (Revision 42):</span>
<span class="sd">  &lt;shinhalsafar@gmail.com&gt; wrote this file. As long as you retain this notice you</span>
<span class="sd">  can do whatever you want with this stuff. If we meet some day, and you think</span>
<span class="sd">  this stuff is worth it, you can buy me a beer in return.</span>

<span class="sd">  Stephen Damm (shinhalsafar@gmail.com)</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">from</span> <span class="nn">tkinter</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">tkinter</span> <span class="kn">import</span> <span class="n">Canvas</span>

<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">logging.INFO</span>
<span class="sd">logging.ERROR</span>
<span class="sd">logging.WARN</span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="n">LOGGING_LEVEL</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">INFO</span>

<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">logging global</span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="n">log</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s2">&quot;default&quot;</span><span class="p">)</span>

<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">The view (V in MVC)</span>
<span class="sd">&#39;&#39;&#39;</span>


<div class="viewcode-block" id="RangeSlider"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSlider">[docs]</a><span class="k">class</span> <span class="nc">RangeSlider</span><span class="p">(</span><span class="n">Canvas</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Fields</span>
<span class="sd">    - meaningful names</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">__canvasWidth</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">__canvasHeight</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="n">__canvasCenterX</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">__canvasCenterY</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="n">__majorTickSpacing</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="n">__minorTickSpacing</span> <span class="o">=</span> <span class="mi">5</span>

    <span class="n">__paintTicks</span> <span class="o">=</span> <span class="bp">False</span>

    <span class="n">__leftCaretId</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">__rightCaretId</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">__barId</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">__sliderId</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">__majorTicks</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">__minorTicks</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">__textText</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="c1"># defaults for widget look`n`feel</span>
    <span class="n">__sliderColor</span> <span class="o">=</span> <span class="s2">&quot;gray60&quot;</span>
    <span class="n">__sliderNoFocusColor</span> <span class="o">=</span> <span class="s2">&quot;gray80&quot;</span>
    <span class="n">__sliderHighlightedColor</span> <span class="o">=</span> <span class="s2">&quot;gray40&quot;</span>
    <span class="n">__sliderOutlineColor</span> <span class="o">=</span> <span class="s2">&quot;black&quot;</span>
    <span class="n">__sliderNoFocusOutlineColor</span> <span class="o">=</span> <span class="s2">&quot;gray80&quot;</span>

    <span class="n">__barColor</span> <span class="o">=</span> <span class="s2">&quot;gray85&quot;</span>
    <span class="n">__barNoFocusColor</span> <span class="o">=</span> <span class="s2">&quot;gray95&quot;</span>
    <span class="n">__barOutlineColor</span> <span class="o">=</span> <span class="s2">&quot;black&quot;</span>
    <span class="n">__barNoFocusOutlineColor</span> <span class="o">=</span> <span class="s2">&quot;gray80&quot;</span>
    <span class="n">__barWidthPercent</span> <span class="o">=</span> <span class="mf">0.90</span>
    <span class="n">__barHeightPercent</span> <span class="o">=</span> <span class="mf">0.05</span>
    <span class="n">__barBevelWidthPercent</span> <span class="o">=</span> <span class="mf">0.01</span>

    <span class="n">__caretColor</span> <span class="o">=</span> <span class="s2">&quot;gray70&quot;</span>
    <span class="n">__caretNoFocusColor</span> <span class="o">=</span> <span class="s2">&quot;gray80&quot;</span>
    <span class="n">__caretHighlightedColor</span> <span class="o">=</span> <span class="s2">&quot;gray40&quot;</span>
    <span class="n">__caretOutlineColor</span> <span class="o">=</span> <span class="s2">&quot;black&quot;</span>
    <span class="n">__caretNoFocusOutlineColor</span> <span class="o">=</span> <span class="s2">&quot;gray80&quot;</span>
    <span class="n">__caretWidthPercent</span> <span class="o">=</span> <span class="mf">0.035</span>
    <span class="n">__caretHeightPercent</span> <span class="o">=</span> <span class="mf">1.50</span>

    <span class="n">__tickOutlineColor</span> <span class="o">=</span> <span class="s2">&quot;black&quot;</span>
    <span class="n">__tickNoFocusOutlineColor</span> <span class="o">=</span> <span class="s2">&quot;gray80&quot;</span>

    <span class="n">__tickWidthPercent</span> <span class="o">=</span> <span class="mf">0.001</span>
    <span class="n">__majorTickHeightPercent</span> <span class="o">=</span> <span class="mf">0.10</span>
    <span class="n">__minorTickHeightPercent</span> <span class="o">=</span> <span class="mf">0.05</span>

    <span class="c1"># store values for easy look up of current dimensions</span>
    <span class="n">__barX</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">__barY</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">__barWidth</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">__barHeight</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">__caretWidth</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">__caretHeight</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="n">__inFocus</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="n">__highlightedId</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="n">canvasHeight</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="o">**</span><span class="n">cnf</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Constructor &quot;&quot;&quot;</span>
        <span class="n">Canvas</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">,</span> <span class="n">highlightthickness</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">canvasHeight</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__model</span> <span class="o">=</span> <span class="n">RangeSliderModel</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__controller</span> <span class="o">=</span> <span class="n">RangeSliderController</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="o">**</span><span class="n">cnf</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">subscribe</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__controller</span><span class="o">.</span><span class="n">update</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;Configure&gt;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__resize</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;Key&gt;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__controller</span><span class="o">.</span><span class="n">rangeSlider_onKeyPress</span><span class="p">)</span>

        <span class="c1"># critical to the focus subsystem!</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;Button&gt;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__focusCheck</span><span class="p">,</span> <span class="n">add</span><span class="o">=</span><span class="s2">&quot;+&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;Key&gt;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__focusCheck</span><span class="p">,</span> <span class="n">add</span><span class="o">=</span><span class="s2">&quot;+&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="RangeSlider.configure"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSlider.configure">[docs]</a>    <span class="k">def</span> <span class="nf">configure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">cnf</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Configure</span>
<span class="sd">            - pops all the RangeSlider specific variables off the cnf dict</span>
<span class="sd">            - uses sane default values if no value is found</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">lowerBound</span> <span class="o">=</span> <span class="n">cnf</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;lowerBound&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">setLowerBound</span><span class="p">(</span><span class="n">lowerBound</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">setLowerBound</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">upperBound</span> <span class="o">=</span> <span class="n">cnf</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;upperBound&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">setUpperBound</span><span class="p">(</span><span class="n">upperBound</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">setUpperBound</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">initialLowerBound</span> <span class="o">=</span> <span class="n">cnf</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;initialLowerBound&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">setLower</span><span class="p">(</span><span class="n">initialLowerBound</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">setLower</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">initialUpperBound</span> <span class="o">=</span> <span class="n">cnf</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;initialUpperBound&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">setUpper</span><span class="p">(</span><span class="n">initialUpperBound</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">setUpper</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">sliderColor</span> <span class="o">=</span> <span class="n">cnf</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;sliderColor&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__sliderColor</span> <span class="o">=</span> <span class="n">sliderColor</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="bp">None</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">sliderHighlightedColor</span> <span class="o">=</span> <span class="n">cnf</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;sliderHighlightedColor&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__sliderHighlightedColor</span> <span class="o">=</span> <span class="n">sliderHighlightedColor</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="bp">None</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">sliderNoFocusColor</span> <span class="o">=</span> <span class="n">cnf</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;sliderNoFocusColor&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__sliderNoFocusColor</span> <span class="o">=</span> <span class="n">sliderNoFocusColor</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="bp">None</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">sliderOutlineColor</span> <span class="o">=</span> <span class="n">cnf</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;sliderOutlineColor&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__sliderOutlineColor</span> <span class="o">=</span> <span class="n">sliderOutlineColor</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="bp">None</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">sliderNoFocusOutlineColor</span> <span class="o">=</span> <span class="n">cnf</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;sliderNoFocusOutlineColor&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__sliderNoFocusOutlineColor</span> <span class="o">=</span> <span class="n">sliderNoFocusOutlineColor</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="bp">None</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">barColor</span> <span class="o">=</span> <span class="n">cnf</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;barColor&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__barColor</span> <span class="o">=</span> <span class="n">barColor</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="bp">None</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">barHighlightedColor</span> <span class="o">=</span> <span class="n">cnf</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;barHighlightedColor&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__barHighlightedColor</span> <span class="o">=</span> <span class="n">barHighlightedColor</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="bp">None</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">barNoFocusColor</span> <span class="o">=</span> <span class="n">cnf</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;barNoFocusColor&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__barNoFocusColor</span> <span class="o">=</span> <span class="n">barNoFocusColor</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="bp">None</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">barOutlineColor</span> <span class="o">=</span> <span class="n">cnf</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;barOutlineColor&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__barOutlineColor</span> <span class="o">=</span> <span class="n">barOutlineColor</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="bp">None</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">barNoFocusOutlineColor</span> <span class="o">=</span> <span class="n">cnf</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;barNoFocusOutlineColor&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__barNoFocusOutlineColor</span> <span class="o">=</span> <span class="n">barNoFocusOutlineColor</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="bp">None</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">caretColor</span> <span class="o">=</span> <span class="n">cnf</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;caretColor&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__caretColor</span> <span class="o">=</span> <span class="n">caretColor</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="bp">None</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">caretHighlightedColor</span> <span class="o">=</span> <span class="n">cnf</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;caretHighlightedColor&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__caretHighlightedColor</span> <span class="o">=</span> <span class="n">caretHighlightedColor</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="bp">None</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">caretNoFocusColor</span> <span class="o">=</span> <span class="n">cnf</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;caretNoFocusColor&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__caretNoFocusColor</span> <span class="o">=</span> <span class="n">caretNoFocusColor</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="bp">None</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">caretOutlineColor</span> <span class="o">=</span> <span class="n">cnf</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;caretOutlineColor&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__caretOutlineColor</span> <span class="o">=</span> <span class="n">caretOutlineColor</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="bp">None</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">caretNoFocusOutlineColor</span> <span class="o">=</span> <span class="n">cnf</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;caretNoFocusOutlineColor&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__caretNoFocusOutlineColor</span> <span class="o">=</span> <span class="n">caretNoFocusOutlineColor</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="bp">None</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">barWidthPercent</span> <span class="o">=</span> <span class="n">cnf</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;barWidthPercent&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__barWidthPercent</span> <span class="o">=</span> <span class="n">barWidthPercent</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="bp">None</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">barHeightPercent</span> <span class="o">=</span> <span class="n">cnf</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;barHeightPercent&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__barHeightPercent</span> <span class="o">=</span> <span class="n">barHeightPercent</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="bp">None</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">caretWidthPercent</span> <span class="o">=</span> <span class="n">cnf</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;caretWidthPercent&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__caretWidthPercent</span> <span class="o">=</span> <span class="n">caretWidthPercent</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="bp">None</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">caretHeightPercent</span> <span class="o">=</span> <span class="n">cnf</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;caretHeightPercent&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__caretHeightPercent</span> <span class="o">=</span> <span class="n">caretHeightPercent</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="bp">None</span></div>

<div class="viewcode-block" id="RangeSlider.subscribe"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSlider.subscribe">[docs]</a>    <span class="k">def</span> <span class="nf">subscribe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">func</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Subscribe</span>
<span class="sd">            - pass along subscribers to the model changer</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">subscribe</span><span class="p">(</span><span class="n">func</span><span class="p">)</span></div>

    <span class="sd">&#39;&#39;&#39; Accessors/Mutators &#39;&#39;&#39;</span>
<div class="viewcode-block" id="RangeSlider.getUpper"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSlider.getUpper">[docs]</a>    <span class="k">def</span> <span class="nf">getUpper</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getUpper</span><span class="p">()</span></div>

<div class="viewcode-block" id="RangeSlider.setUpper"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSlider.setUpper">[docs]</a>    <span class="k">def</span> <span class="nf">setUpper</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">u</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">setUpper</span><span class="p">(</span><span class="n">u</span><span class="p">)</span></div>

<div class="viewcode-block" id="RangeSlider.getLower"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSlider.getLower">[docs]</a>    <span class="k">def</span> <span class="nf">getLower</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getLower</span><span class="p">()</span></div>

<div class="viewcode-block" id="RangeSlider.setLower"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSlider.setLower">[docs]</a>    <span class="k">def</span> <span class="nf">setLower</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">l</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">setLower</span><span class="p">(</span><span class="n">l</span><span class="p">)</span></div>

<div class="viewcode-block" id="RangeSlider.getUpperBound"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSlider.getUpperBound">[docs]</a>    <span class="k">def</span> <span class="nf">getUpperBound</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getUpperBound</span><span class="p">()</span></div>

<div class="viewcode-block" id="RangeSlider.setUpperBound"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSlider.setUpperBound">[docs]</a>    <span class="k">def</span> <span class="nf">setUpperBound</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ub</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">setUpperBound</span><span class="p">(</span><span class="n">ub</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">redraw</span><span class="p">()</span></div>

<div class="viewcode-block" id="RangeSlider.getLowerBound"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSlider.getLowerBound">[docs]</a>    <span class="k">def</span> <span class="nf">getLowerBound</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getLowerBound</span><span class="p">()</span></div>

<div class="viewcode-block" id="RangeSlider.setLowerBound"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSlider.setLowerBound">[docs]</a>    <span class="k">def</span> <span class="nf">setLowerBound</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">lb</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">setLowerBound</span><span class="p">(</span><span class="n">lb</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">redraw</span><span class="p">()</span></div>

<div class="viewcode-block" id="RangeSlider.getBoundsRange"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSlider.getBoundsRange">[docs]</a>    <span class="k">def</span> <span class="nf">getBoundsRange</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getBoundsRange</span><span class="p">()</span></div>

<div class="viewcode-block" id="RangeSlider.getRange"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSlider.getRange">[docs]</a>    <span class="k">def</span> <span class="nf">getRange</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getRange</span><span class="p">()</span></div>

<div class="viewcode-block" id="RangeSlider.getMajorTickSpacing"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSlider.getMajorTickSpacing">[docs]</a>    <span class="k">def</span> <span class="nf">getMajorTickSpacing</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__majorTickSpacing</span></div>

<div class="viewcode-block" id="RangeSlider.setMajorTickSpacing"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSlider.setMajorTickSpacing">[docs]</a>    <span class="k">def</span> <span class="nf">setMajorTickSpacing</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">majorTS</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__majorTickSpacing</span> <span class="o">=</span> <span class="n">majorTS</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">redraw</span><span class="p">()</span></div>

<div class="viewcode-block" id="RangeSlider.getMinorTickSpacing"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSlider.getMinorTickSpacing">[docs]</a>    <span class="k">def</span> <span class="nf">getMinorTickSpacing</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__minorTickSpacing</span></div>

<div class="viewcode-block" id="RangeSlider.setMinorTickSpacing"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSlider.setMinorTickSpacing">[docs]</a>    <span class="k">def</span> <span class="nf">setMinorTickSpacing</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">minorTS</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__minorTickSpacing</span> <span class="o">=</span> <span class="n">minorTS</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">redraw</span><span class="p">()</span></div>

<div class="viewcode-block" id="RangeSlider.getPaintTicks"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSlider.getPaintTicks">[docs]</a>    <span class="k">def</span> <span class="nf">getPaintTicks</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__paintTicks</span></div>

<div class="viewcode-block" id="RangeSlider.setPaintTicks"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSlider.setPaintTicks">[docs]</a>    <span class="k">def</span> <span class="nf">setPaintTicks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__paintTicks</span> <span class="o">=</span> <span class="n">b</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">redraw</span><span class="p">()</span></div>

<div class="viewcode-block" id="RangeSlider.getSnapToTicks"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSlider.getSnapToTicks">[docs]</a>    <span class="k">def</span> <span class="nf">getSnapToTicks</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__controller</span><span class="o">.</span><span class="n">getSnapToTicks</span><span class="p">()</span></div>

<div class="viewcode-block" id="RangeSlider.setSnapToTicks"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSlider.setSnapToTicks">[docs]</a>    <span class="k">def</span> <span class="nf">setSnapToTicks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__controller</span><span class="o">.</span><span class="n">setSnapToTicks</span><span class="p">(</span><span class="n">b</span><span class="p">)</span></div>

<div class="viewcode-block" id="RangeSlider.getLeftCaretId"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSlider.getLeftCaretId">[docs]</a>    <span class="k">def</span> <span class="nf">getLeftCaretId</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__leftCaretId</span></div>

<div class="viewcode-block" id="RangeSlider.getRightCaretId"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSlider.getRightCaretId">[docs]</a>    <span class="k">def</span> <span class="nf">getRightCaretId</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__rightCaretId</span></div>

<div class="viewcode-block" id="RangeSlider.getBarId"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSlider.getBarId">[docs]</a>    <span class="k">def</span> <span class="nf">getBarId</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__barId</span></div>

<div class="viewcode-block" id="RangeSlider.getSliderId"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSlider.getSliderId">[docs]</a>    <span class="k">def</span> <span class="nf">getSliderId</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__sliderId</span></div>

<div class="viewcode-block" id="RangeSlider.getCanvasCenterY"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSlider.getCanvasCenterY">[docs]</a>    <span class="k">def</span> <span class="nf">getCanvasCenterY</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__canvasCenterY</span></div>

<div class="viewcode-block" id="RangeSlider.getBarX"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSlider.getBarX">[docs]</a>    <span class="k">def</span> <span class="nf">getBarX</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__barX</span></div>

<div class="viewcode-block" id="RangeSlider.getBarY"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSlider.getBarY">[docs]</a>    <span class="k">def</span> <span class="nf">getBarY</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__barY</span></div>

<div class="viewcode-block" id="RangeSlider.getBarWidth"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSlider.getBarWidth">[docs]</a>    <span class="k">def</span> <span class="nf">getBarWidth</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__barWidth</span></div>

<div class="viewcode-block" id="RangeSlider.getBarHeight"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSlider.getBarHeight">[docs]</a>    <span class="k">def</span> <span class="nf">getBarHeight</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__barHeight</span></div>

<div class="viewcode-block" id="RangeSlider.getCaretHeight"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSlider.getCaretHeight">[docs]</a>    <span class="k">def</span> <span class="nf">getCaretHeight</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__caretHeight</span></div>

<div class="viewcode-block" id="RangeSlider.getCaretWidth"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSlider.getCaretWidth">[docs]</a>    <span class="k">def</span> <span class="nf">getCaretWidth</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__caretWidth</span></div>

<div class="viewcode-block" id="RangeSlider.getLeftCaretX"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSlider.getLeftCaretX">[docs]</a>    <span class="k">def</span> <span class="nf">getLeftCaretX</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">coords</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__leftCaretId</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span></div>

<div class="viewcode-block" id="RangeSlider.getLeftCaretY"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSlider.getLeftCaretY">[docs]</a>    <span class="k">def</span> <span class="nf">getLeftCaretY</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">coords</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__leftCaretId</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="RangeSlider.getRightCaretX"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSlider.getRightCaretX">[docs]</a>    <span class="k">def</span> <span class="nf">getRightCaretX</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">coords</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__rightCaretId</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span></div>

<div class="viewcode-block" id="RangeSlider.getRightCaretY"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSlider.getRightCaretY">[docs]</a>    <span class="k">def</span> <span class="nf">getRightCaretY</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">coords</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__rightCaretId</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="RangeSlider.getTickWidth"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSlider.getTickWidth">[docs]</a>    <span class="k">def</span> <span class="nf">getTickWidth</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__canvasWidth</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">__tickWidthPercent</span></div>

<div class="viewcode-block" id="RangeSlider.getHighlightedId"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSlider.getHighlightedId">[docs]</a>    <span class="k">def</span> <span class="nf">getHighlightedId</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__highlightedId</span></div>

    <span class="k">def</span> <span class="nf">__resize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">e</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Resize Function</span>
<span class="sd">            - captures the new canvas dimensions</span>
<span class="sd">            - causes a redraw</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Resize, New Size -- &quot;</span> <span class="o">+</span>
                  <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">width</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; : &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">height</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__canvasWidth</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">width</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__canvasHeight</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">height</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__canvasCenterX</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">width</span> <span class="o">/</span> <span class="mf">2.0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__canvasCenterY</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">height</span> <span class="o">/</span> <span class="mf">2.0</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">redraw</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">__draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">e</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; FullDraw Function &quot;&quot;&quot;</span>
        <span class="c1"># only redraw if the canvas is visible still</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__canvasWidth</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">__canvasHeight</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Doing a fulldraw&quot;</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">__tickText</span> <span class="o">=</span> <span class="p">[]</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">__createBar</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__caretWidth</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__barWidth</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">__caretWidthPercent</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__caretHeight</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__barHeight</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">__caretHeightPercent</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__paintTicks</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__createMajorTicks</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__createMinorTicks</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__createSlider</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__createLeftCaret</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__createRightCaret</span><span class="p">()</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__inFocus</span> <span class="ow">is</span> <span class="bp">True</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">setFocus</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__changeHighlighted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__highlightedId</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__createBar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Draw the bar &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__barWidth</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__canvasWidth</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">__barWidthPercent</span>
        <span class="n">newbar_width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__barWidth</span> <span class="o">+</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__canvasWidth</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">__tickWidthPercent</span> <span class="o">*</span> <span class="mf">2.0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__barHeight</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__canvasHeight</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">__barHeightPercent</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__barX</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__canvasCenterX</span> <span class="o">-</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__barWidth</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">newbar_x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__barX</span> <span class="o">-</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__canvasWidth</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">__tickWidthPercent</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__barY</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__canvasCenterY</span> <span class="o">-</span> <span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">__barHeight</span> <span class="o">+</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__canvasHeight</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">__majorTickHeightPercent</span><span class="p">))</span> <span class="o">/</span> <span class="mf">2.0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__barId</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_rectangle</span><span class="p">(</span><span class="n">newbar_x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__barY</span><span class="p">,</span>
                                             <span class="n">newbar_x</span> <span class="o">+</span> <span class="n">newbar_width</span><span class="p">,</span>
                                             <span class="bp">self</span><span class="o">.</span><span class="n">__barY</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">__barHeight</span><span class="p">,</span>
                                             <span class="n">outline</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__barNoFocusOutlineColor</span><span class="p">,</span>
                                             <span class="n">fill</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__barNoFocusColor</span><span class="p">)</span>
        <span class="c1"># print(&#39;my_rangeslider:__createBar: barX %f&#39; % self.__barX)</span>
        <span class="c1"># print(&#39;my_rangeslider:__createBar: barY %f&#39; % self.__barY)</span>
        <span class="c1"># print(&#39;my_rangeslider:__createBar: barHeight %f&#39; % self.__barHeight)</span>
        <span class="c1"># print(&#39;my_rangeslider:__createBar: barWidth %f&#39; % self.__barWidth)</span>
        <span class="c1"># print(&#39;my_rangeslider:__createBar: canvasWidth %f&#39; % self.__canvasWidth)</span>
        <span class="c1"># print(&#39;my_rangeslider:__createBar: canvasHeight %f&#39; % self.__canvasHeight)</span>
        <span class="c1"># print(&#39;my_rangeslider:__createBar: canvasCenterX %f&#39; % self.__canvasCenterX)</span>
        <span class="c1"># print(&#39;my_rangeslider:__createBar: canvasCenterY %f&#39; % self.__canvasCenterY)</span>

    <span class="k">def</span> <span class="nf">__createLeftCaret</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Draw left caret &quot;&quot;&quot;</span>
        <span class="n">cur_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__leftCaretId</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__leftCaretId</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__createCaret</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__caret_onMouseEnter</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__leftCaret_onMouseLeave</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__leftCaret_onMouseClick</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__controller</span><span class="o">.</span><span class="n">leftCaret_onMouseMotion</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">cur_id</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">__highlightedId</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">__highlightedId</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__highlightedId</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__leftCaretId</span>

    <span class="k">def</span> <span class="nf">__createRightCaret</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Draw right caret &quot;&quot;&quot;</span>
        <span class="n">curId</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__rightCaretId</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__rightCaretId</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__createCaret</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__caret_onMouseEnter</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__rightCaret_onMouseLeave</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__rightCaret_onMouseClick</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__controller</span><span class="o">.</span><span class="n">rightCaret_onMouseMotion</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">curId</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">__highlightedId</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">__highlightedId</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__highlightedId</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__rightCaretId</span>

    <span class="k">def</span> <span class="nf">__createCaret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">enterCallback</span><span class="p">,</span> <span class="n">leaveCallback</span><span class="p">,</span> <span class="n">clickCallback</span><span class="p">,</span> <span class="n">motionCallback</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Generic draw caret function Function &quot;&quot;&quot;</span>
        <span class="n">hw</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__caretWidth</span> <span class="o">/</span> <span class="mf">2.0</span>
        <span class="n">hh</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__caretHeight</span> <span class="o">/</span> <span class="mf">2.0</span>
        <span class="n">cx</span> <span class="o">=</span> <span class="mi">0</span> <span class="o">+</span> <span class="n">hw</span>
        <span class="n">cy</span> <span class="o">=</span> <span class="mi">0</span> <span class="o">+</span> <span class="n">hh</span>
        <span class="n">p1x</span> <span class="o">=</span> <span class="n">cx</span> <span class="o">-</span> <span class="n">hw</span>
        <span class="n">p1y</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">p2x</span> <span class="o">=</span> <span class="n">cx</span> <span class="o">+</span> <span class="n">hw</span>
        <span class="n">p2y</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">p3x</span> <span class="o">=</span> <span class="n">cx</span> <span class="o">+</span> <span class="n">hw</span>
        <span class="n">p3y</span> <span class="o">=</span> <span class="mi">0</span> <span class="o">+</span> <span class="n">hh</span>
        <span class="n">p4x</span> <span class="o">=</span> <span class="n">cx</span>
        <span class="n">p4y</span> <span class="o">=</span> <span class="n">cy</span> <span class="o">+</span> <span class="n">hh</span>
        <span class="n">p5x</span> <span class="o">=</span> <span class="n">cx</span> <span class="o">-</span> <span class="n">hw</span>
        <span class="n">p5y</span> <span class="o">=</span> <span class="mi">0</span> <span class="o">+</span> <span class="n">hh</span>
        <span class="n">p6x</span> <span class="o">=</span> <span class="n">cx</span> <span class="o">-</span> <span class="n">hw</span>
        <span class="n">p6y</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="n">new_caret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_polygon</span><span class="p">(</span><span class="n">p1x</span><span class="p">,</span> <span class="n">p1y</span><span class="p">,</span>
                                       <span class="n">p2x</span><span class="p">,</span> <span class="n">p2y</span><span class="p">,</span>
                                       <span class="n">p3x</span><span class="p">,</span> <span class="n">p3y</span><span class="p">,</span>
                                       <span class="n">p4x</span><span class="p">,</span> <span class="n">p4y</span><span class="p">,</span>
                                       <span class="n">p5x</span><span class="p">,</span> <span class="n">p5y</span><span class="p">,</span>
                                       <span class="n">p6x</span><span class="p">,</span> <span class="n">p6y</span><span class="p">,</span>
                                       <span class="n">outline</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__caretNoFocusOutlineColor</span><span class="p">,</span>
                                       <span class="n">fill</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__caretNoFocusColor</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">tag_bind</span><span class="p">(</span><span class="n">new_caret</span><span class="p">,</span> <span class="s2">&quot;&lt;Button-1&gt;&quot;</span><span class="p">,</span>
                      <span class="bp">self</span><span class="o">.</span><span class="n">__controller</span><span class="o">.</span><span class="n">caret_onMouseClick</span><span class="p">,</span> <span class="n">add</span><span class="o">=</span><span class="s2">&quot;+&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tag_bind</span><span class="p">(</span><span class="n">new_caret</span><span class="p">,</span> <span class="s2">&quot;&lt;Button-3&gt;&quot;</span><span class="p">,</span>
                      <span class="bp">self</span><span class="o">.</span><span class="n">__controller</span><span class="o">.</span><span class="n">caret_onMouseClick</span><span class="p">,</span> <span class="n">add</span><span class="o">=</span><span class="s2">&quot;+&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tag_bind</span><span class="p">(</span><span class="n">new_caret</span><span class="p">,</span> <span class="s2">&quot;&lt;B1-Motion&gt;&quot;</span><span class="p">,</span> <span class="n">motionCallback</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tag_bind</span><span class="p">(</span><span class="n">new_caret</span><span class="p">,</span> <span class="s2">&quot;&lt;ButtonRelease-1&gt;&quot;</span><span class="p">,</span>
                      <span class="bp">self</span><span class="o">.</span><span class="n">__controller</span><span class="o">.</span><span class="n">caret_onMouseRelease</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">tag_bind</span><span class="p">(</span><span class="n">new_caret</span><span class="p">,</span> <span class="s2">&quot;&lt;B1-Motion&gt;&quot;</span><span class="p">,</span>
                      <span class="bp">self</span><span class="o">.</span><span class="n">__caret_onMouseEnter</span><span class="p">,</span> <span class="n">add</span><span class="o">=</span><span class="s2">&quot;+&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tag_bind</span><span class="p">(</span><span class="n">new_caret</span><span class="p">,</span> <span class="s2">&quot;&lt;Enter&gt;&quot;</span><span class="p">,</span> <span class="n">enterCallback</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tag_bind</span><span class="p">(</span><span class="n">new_caret</span><span class="p">,</span> <span class="s2">&quot;&lt;Leave&gt;&quot;</span><span class="p">,</span> <span class="n">leaveCallback</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tag_bind</span><span class="p">(</span><span class="n">new_caret</span><span class="p">,</span> <span class="s2">&quot;&lt;Button-1&gt;&quot;</span><span class="p">,</span> <span class="n">clickCallback</span><span class="p">,</span> <span class="n">add</span><span class="o">=</span><span class="s2">&quot;+&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tag_bind</span><span class="p">(</span><span class="n">new_caret</span><span class="p">,</span> <span class="s2">&quot;&lt;Button-3&gt;&quot;</span><span class="p">,</span> <span class="n">clickCallback</span><span class="p">,</span> <span class="n">add</span><span class="o">=</span><span class="s2">&quot;+&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">new_caret</span>

    <span class="k">def</span> <span class="nf">__createSlider</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Draw slider &quot;&quot;&quot;</span>
        <span class="n">cur_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__sliderId</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__sliderId</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_rectangle</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
                                                <span class="bp">self</span><span class="o">.</span><span class="n">__barWidth</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__barHeight</span><span class="p">,</span>
                                                <span class="n">fill</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__sliderNoFocusColor</span><span class="p">,</span>
                                                <span class="n">outline</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__sliderNoFocusOutlineColor</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">cur_id</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">__highlightedId</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">__highlightedId</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__highlightedId</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__sliderId</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">tag_bind</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__sliderId</span><span class="p">,</span> <span class="s2">&quot;&lt;Button-1&gt;&quot;</span><span class="p">,</span>
                      <span class="bp">self</span><span class="o">.</span><span class="n">__controller</span><span class="o">.</span><span class="n">slider_onMouseClick</span><span class="p">,</span> <span class="n">add</span><span class="o">=</span><span class="s2">&quot;+&quot;</span><span class="p">);</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tag_bind</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__sliderId</span><span class="p">,</span> <span class="s2">&quot;&lt;B1-Motion&gt;&quot;</span><span class="p">,</span>
                      <span class="bp">self</span><span class="o">.</span><span class="n">__controller</span><span class="o">.</span><span class="n">slider_onMouseMotion</span><span class="p">);</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tag_bind</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__sliderId</span><span class="p">,</span> <span class="s2">&quot;&lt;B1-Motion&gt;&quot;</span><span class="p">,</span>
                      <span class="bp">self</span><span class="o">.</span><span class="n">__slider_onMouseEnter</span><span class="p">,</span>
                      <span class="n">add</span><span class="o">=</span><span class="s2">&quot;+&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tag_bind</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__sliderId</span><span class="p">,</span> <span class="s2">&quot;&lt;Enter&gt;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__slider_onMouseEnter</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tag_bind</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__sliderId</span><span class="p">,</span> <span class="s2">&quot;&lt;Leave&gt;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__slider_onMouseLeave</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tag_bind</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__sliderId</span><span class="p">,</span> <span class="s2">&quot;&lt;Button-1&gt;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__slider_onMouseClick</span><span class="p">,</span> <span class="n">add</span><span class="o">=</span><span class="s2">&quot;+&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tag_bind</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__sliderId</span><span class="p">,</span> <span class="s2">&quot;&lt;Button-3&gt;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__slider_onMouseClick</span><span class="p">,</span> <span class="n">add</span><span class="o">=</span><span class="s2">&quot;+&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__createMajorTicks</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Draw the major ticks &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__majorTicks</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__createTicks</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__majorTicks</span><span class="p">,</span>
                           <span class="bp">self</span><span class="o">.</span><span class="n">__canvasWidth</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">__tickWidthPercent</span><span class="p">,</span>
                           <span class="bp">self</span><span class="o">.</span><span class="n">__canvasHeight</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">__majorTickHeightPercent</span><span class="p">,</span>
                           <span class="bp">self</span><span class="o">.</span><span class="n">getMajorTickSpacing</span><span class="p">(),</span>
                           <span class="bp">True</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__createMinorTicks</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Draw the minor ticks &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__minorTicks</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__createTicks</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__minorTicks</span><span class="p">,</span>
                           <span class="bp">self</span><span class="o">.</span><span class="n">__canvasWidth</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">__tickWidthPercent</span><span class="p">,</span>
                           <span class="bp">self</span><span class="o">.</span><span class="n">__canvasHeight</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">__minorTickHeightPercent</span><span class="p">,</span>
                           <span class="bp">self</span><span class="o">.</span><span class="n">getMinorTickSpacing</span><span class="p">(),</span>
                           <span class="bp">False</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__createTicks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tickArray</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">tickSpacing</span><span class="p">,</span> <span class="n">createText</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Generic draw ticks Function &quot;&quot;&quot;</span>
        <span class="n">tick_count</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getBoundsRange</span><span class="p">()</span> <span class="o">/</span> <span class="n">tickSpacing</span>

        <span class="c1"># zero vision</span>
        <span class="k">if</span> <span class="n">tick_count</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="n">tickXStart</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__barX</span>
        <span class="n">tickYStart</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__barY</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">__barHeight</span>
        <span class="n">tickInterval</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__barWidth</span> <span class="o">/</span> <span class="nb">float</span><span class="p">(</span><span class="n">tick_count</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">tick_count</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">tickX</span> <span class="o">=</span> <span class="n">tickXStart</span> <span class="o">+</span> <span class="p">(</span><span class="n">tickInterval</span> <span class="o">*</span> <span class="n">i</span><span class="p">)</span> <span class="o">-</span> <span class="n">width</span> <span class="o">/</span> <span class="mf">2.0</span>
            <span class="n">newMajorTick</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_rectangle</span><span class="p">(</span><span class="n">tickX</span><span class="p">,</span>
                                                 <span class="n">tickYStart</span><span class="p">,</span>
                                                 <span class="n">tickX</span> <span class="o">+</span> <span class="n">width</span><span class="p">,</span>
                                                 <span class="n">tickYStart</span> <span class="o">+</span> <span class="n">height</span><span class="p">,</span>
                                                 <span class="n">outline</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__tickNoFocusOutlineColor</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">createText</span><span class="p">:</span>
                <span class="n">strVal</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getLowerBound</span><span class="p">()</span> <span class="o">+</span> <span class="n">tickSpacing</span> <span class="o">*</span> <span class="nb">float</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__tickText</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">create_text</span><span class="p">(</span><span class="n">tickX</span><span class="p">,</span>
                                                        <span class="n">tickYStart</span> <span class="o">+</span> <span class="n">height</span> <span class="o">+</span> <span class="mi">5</span><span class="p">,</span>
                                                        <span class="n">text</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%.2f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">strVal</span><span class="p">)),</span>
                                                        <span class="n">fill</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__tickNoFocusOutlineColor</span><span class="p">,</span>
                                                        <span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;Default&quot;</span><span class="p">,</span> <span class="s2">&quot;8&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)))</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">tag_bind</span><span class="p">(</span><span class="n">newMajorTick</span><span class="p">,</span> <span class="s2">&quot;&lt;1&gt;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__controller</span><span class="o">.</span><span class="n">majorTick_onClick</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tag_bind</span><span class="p">(</span><span class="n">newMajorTick</span><span class="p">,</span> <span class="s2">&quot;&lt;Enter&gt;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__tick_onMouseEnter</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tag_bind</span><span class="p">(</span><span class="n">newMajorTick</span><span class="p">,</span> <span class="s2">&quot;&lt;Leave&gt;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__tick_onMouseLeave</span><span class="p">)</span>

            <span class="n">tickArray</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">newMajorTick</span><span class="p">)</span>

<div class="viewcode-block" id="RangeSlider.redraw"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSlider.redraw">[docs]</a>    <span class="k">def</span> <span class="nf">redraw</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Full redraw logic (Exposed) &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">ALL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__draw</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__controller</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">__changeHighlighted</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Helper - Change Highlighted</span>
<span class="sd">            - sorts out the logic when user is clicking around the different</span>
<span class="sd">            - functional parts of the program.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">old_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__highlightedId</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__highlightedId</span> <span class="o">=</span> <span class="nb">id</span>

        <span class="c1"># unhighlight if necessary</span>
        <span class="k">if</span> <span class="n">old_id</span> <span class="o">!=</span> <span class="nb">id</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">old_id</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">__sliderId</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__slider_onMouseLeave</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">itemconfig</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__sliderId</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__sliderColor</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">old_id</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">__leftCaretId</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__leftCaret_onMouseLeave</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">itemconfig</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__leftCaretId</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__caretColor</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">old_id</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">__rightCaretId</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__rightCaret_onMouseLeave</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">itemconfig</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__rightCaretId</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__caretColor</span><span class="p">)</span>

        <span class="c1"># highlight new one if necessary</span>
        <span class="k">if</span> <span class="nb">id</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">__sliderId</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__slider_onMouseEnter</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">itemconfig</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__sliderId</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__sliderHighlightedColor</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">id</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">__leftCaretId</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__caret_onMouseEnter</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">itemconfig</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__leftCaretId</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__caretHighlightedColor</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">id</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">__rightCaretId</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__caret_onMouseEnter</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">itemconfig</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__rightCaretId</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__caretHighlightedColor</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__leftCaret_onMouseClick</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">e</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Event - caretMouseClick</span>
<span class="sd">            - cause selection of the caret clicked</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__changeHighlighted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__leftCaretId</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__rightCaret_onMouseClick</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">e</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Event - caretMouseClick</span>
<span class="sd">            - cause selection of the caret clicked</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__changeHighlighted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__rightCaretId</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__slider_onMouseClick</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">e</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Event - caretMouseClick</span>
<span class="sd">            - cause selection of the caret clicked</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__changeHighlighted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__sliderId</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__caret_onMouseEnter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">e</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Event - caretMouseEnter &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">cursor</span><span class="o">=</span><span class="s2">&quot;hand2&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__inFocus</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">itemconfig</span><span class="p">(</span><span class="n">CURRENT</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__caretHighlightedColor</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__leftCaret_onMouseLeave</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">e</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Event - caretMouseLeave &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">cursor</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__inFocus</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__highlightedId</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">__leftCaretId</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">itemconfig</span><span class="p">(</span><span class="n">CURRENT</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__caretColor</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__rightCaret_onMouseLeave</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">e</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Event - caretMouseLeave &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">cursor</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__inFocus</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__highlightedId</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">__rightCaretId</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">itemconfig</span><span class="p">(</span><span class="n">CURRENT</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__caretColor</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__slider_onMouseEnter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">e</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Event - sliderMouseEnter &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">cursor</span><span class="o">=</span><span class="s2">&quot;hand2&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__inFocus</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">itemconfig</span><span class="p">(</span><span class="n">CURRENT</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__sliderHighlightedColor</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__slider_onMouseLeave</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">e</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Event - sliderMouseLeave &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">cursor</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__inFocus</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__highlightedId</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">__sliderId</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">itemconfig</span><span class="p">(</span><span class="n">CURRENT</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__sliderColor</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__tick_onMouseEnter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">e</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Event - tickMouseEnter &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">cursor</span><span class="o">=</span><span class="s2">&quot;center_ptr&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__tick_onMouseLeave</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">e</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Event - tickMouseLeave &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">cursor</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__focusCheck</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">e</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Event - handle focus! &quot;&quot;&quot;</span>
        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;FocusCheck...&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">widget</span> <span class="o">==</span> <span class="bp">self</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">__inFocus</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setFocus</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">e</span><span class="o">.</span><span class="n">widget</span> <span class="o">!=</span> <span class="bp">self</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">__inFocus</span><span class="p">:</span>
            <span class="c1"># self.clearFocus()</span>
            <span class="k">pass</span>

<div class="viewcode-block" id="RangeSlider.clearFocus"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSlider.clearFocus">[docs]</a>    <span class="k">def</span> <span class="nf">clearFocus</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Helper - Clear Focus</span>
<span class="sd">            - sets the items to be in their non focus state</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">print</span><span class="p">(</span><span class="s1">&#39;my_rangeslider:clearFocus: clearing focus...&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__inFocus</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">itemconfig</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__barId</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__barNoFocusColor</span><span class="p">,</span> <span class="n">outline</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__barNoFocusOutlineColor</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">itemconfig</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__sliderId</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__sliderNoFocusColor</span><span class="p">,</span> <span class="n">outline</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__sliderNoFocusOutlineColor</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">itemconfig</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__leftCaretId</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__caretNoFocusColor</span><span class="p">,</span> <span class="n">outline</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__caretNoFocusOutlineColor</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">itemconfig</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__rightCaretId</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__caretNoFocusColor</span><span class="p">,</span> <span class="n">outline</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__caretNoFocusOutlineColor</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">ID</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__majorTicks</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">itemconfig</span><span class="p">(</span><span class="n">ID</span><span class="p">,</span> <span class="n">outline</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__tickNoFocusOutlineColor</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">ID</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__minorTicks</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">itemconfig</span><span class="p">(</span><span class="n">ID</span><span class="p">,</span> <span class="n">outline</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__tickNoFocusOutlineColor</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">ID</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__tickText</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">itemconfig</span><span class="p">(</span><span class="n">ID</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__tickNoFocusOutlineColor</span><span class="p">)</span></div>

<div class="viewcode-block" id="RangeSlider.setFocus"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSlider.setFocus">[docs]</a>    <span class="k">def</span> <span class="nf">setFocus</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Helper - Set Focus</span>
<span class="sd">            - sets the focus colors</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__inFocus</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">focus_set</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">itemconfig</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__barId</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__barColor</span><span class="p">,</span> <span class="n">outline</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__barOutlineColor</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">itemconfig</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__sliderId</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__sliderColor</span><span class="p">,</span> <span class="n">outline</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__sliderOutlineColor</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">itemconfig</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__leftCaretId</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__caretColor</span><span class="p">,</span> <span class="n">outline</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__caretOutlineColor</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">itemconfig</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__rightCaretId</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__caretColor</span><span class="p">,</span> <span class="n">outline</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__caretOutlineColor</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">ID</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__majorTicks</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">itemconfig</span><span class="p">(</span><span class="n">ID</span><span class="p">,</span> <span class="n">outline</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__tickOutlineColor</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">ID</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__minorTicks</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">itemconfig</span><span class="p">(</span><span class="n">ID</span><span class="p">,</span> <span class="n">outline</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__tickOutlineColor</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">ID</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__tickText</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">itemconfig</span><span class="p">(</span><span class="n">ID</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">__tickOutlineColor</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="RangeSliderController"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSliderController">[docs]</a><span class="k">class</span> <span class="nc">RangeSliderController</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot; the controller (C in MVC)</span>
<span class="sd">    Fields</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">__model</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">__view</span> <span class="o">=</span> <span class="bp">None</span>

    <span class="n">__lastMouseX</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="n">__snapToTicks</span> <span class="o">=</span> <span class="bp">False</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rs_model</span><span class="p">,</span> <span class="n">rs_view</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Constructor &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__model</span> <span class="o">=</span> <span class="n">rs_model</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__view</span> <span class="o">=</span> <span class="n">rs_view</span>

    <span class="sd">&#39;&#39;&#39; Accessors/Mutators &#39;&#39;&#39;</span>
<div class="viewcode-block" id="RangeSliderController.getSnapToTicks"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSliderController.getSnapToTicks">[docs]</a>    <span class="k">def</span> <span class="nf">getSnapToTicks</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__snapToTicks</span></div>

<div class="viewcode-block" id="RangeSliderController.setSnapToTicks"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSliderController.setSnapToTicks">[docs]</a>    <span class="k">def</span> <span class="nf">setSnapToTicks</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__snapToTicks</span> <span class="o">=</span> <span class="n">b</span></div>

<div class="viewcode-block" id="RangeSliderController.rangeSlider_onKeyPress"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSliderController.rangeSlider_onKeyPress">[docs]</a>    <span class="k">def</span> <span class="nf">rangeSlider_onKeyPress</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">e</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Event - on Key press</span>
<span class="sd">            - handles key presses directed at the canvas</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># unit step</span>
        <span class="n">lowerstep</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">upperstep</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="c1"># get direction</span>
        <span class="n">direction</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">keysym</span> <span class="o">==</span> <span class="s2">&quot;Left&quot;</span><span class="p">:</span>
            <span class="n">direction</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
        <span class="k">elif</span> <span class="n">e</span><span class="o">.</span><span class="n">keysym</span> <span class="o">==</span> <span class="s2">&quot;Right&quot;</span><span class="p">:</span>
            <span class="n">direction</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="c1"># if (direction == -1 and self.__model.getLower() &lt;= self.__model.getLowerBound()):</span>
        <span class="c1">#	return</span>
        <span class="c1"># elif (direction == 1 and self.__model.getUpper() &gt;= self.__model.getUpperBound()):</span>
        <span class="c1">#	return</span>

        <span class="n">bRoundUp</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="k">if</span> <span class="n">direction</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">bRoundUp</span> <span class="o">=</span> <span class="bp">True</span>

        <span class="n">step</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getBoundsRange</span><span class="p">()</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getBarWidth</span><span class="p">()</span>
        <span class="n">step</span> <span class="o">*=</span> <span class="n">direction</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getHighlightedId</span><span class="p">()</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getLeftCaretId</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">direction</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getLower</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getUpper</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">setLower</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getUpper</span><span class="p">())</span>
                <span class="k">return</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__snapToTicks</span><span class="p">:</span>
                <span class="n">step</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getLower</span><span class="p">()</span>
                <span class="n">step</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">barRoundValue</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getMinorTickSpacing</span><span class="p">(),</span> <span class="n">bRoundUp</span><span class="p">)</span>
                <span class="n">step</span> <span class="o">-=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getLower</span><span class="p">()</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">setLower</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getLower</span><span class="p">()</span> <span class="o">+</span> <span class="n">step</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getHighlightedId</span><span class="p">()</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getRightCaretId</span><span class="p">():</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__snapToTicks</span><span class="p">:</span>
                <span class="n">step</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getUpper</span><span class="p">()</span>
                <span class="n">step</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">barRoundValue</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getMinorTickSpacing</span><span class="p">(),</span> <span class="n">bRoundUp</span><span class="p">)</span>
                <span class="n">step</span> <span class="o">-=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getUpper</span><span class="p">()</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">setUpper</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getUpper</span><span class="p">()</span> <span class="o">+</span> <span class="n">step</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getHighlightedId</span><span class="p">()</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getSliderId</span><span class="p">():</span>
            <span class="c1"># prevent 0 division</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getBoundsRange</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">return</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">__snapToTicks</span><span class="p">:</span>
                <span class="n">step</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getBoundsRange</span><span class="p">()</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getBarWidth</span><span class="p">()</span>
                <span class="n">step</span> <span class="o">*=</span> <span class="n">direction</span>

                <span class="n">lowerstep</span> <span class="o">=</span> <span class="n">step</span>
                <span class="n">upperstep</span> <span class="o">=</span> <span class="n">step</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">step</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getBoundsRange</span><span class="p">()</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getBarWidth</span><span class="p">()</span>
                <span class="n">step</span> <span class="o">*=</span> <span class="n">direction</span>
                <span class="n">lowerstep</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getLower</span><span class="p">()</span> <span class="o">+</span> <span class="n">step</span><span class="p">)</span>
                <span class="n">upperstep</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getUpper</span><span class="p">()</span> <span class="o">+</span> <span class="n">step</span><span class="p">)</span>

                <span class="n">lowerstep</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">barRoundValue</span><span class="p">(</span><span class="n">lowerstep</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getMinorTickSpacing</span><span class="p">(),</span> <span class="n">bRoundUp</span><span class="p">)</span>
                <span class="n">lowerstep</span> <span class="o">-=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getLower</span><span class="p">()</span>
                <span class="n">upperstep</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">barRoundValue</span><span class="p">(</span><span class="n">upperstep</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getMinorTickSpacing</span><span class="p">(),</span> <span class="n">bRoundUp</span><span class="p">)</span>
                <span class="n">upperstep</span> <span class="o">-=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getUpper</span><span class="p">()</span>

            <span class="c1"># move the range 1 unit to the direction pressed</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">setLower</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getLower</span><span class="p">()</span> <span class="o">+</span> <span class="n">lowerstep</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">setUpper</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getUpper</span><span class="p">()</span> <span class="o">+</span> <span class="n">upperstep</span><span class="p">)</span></div>

<div class="viewcode-block" id="RangeSliderController.barRoundValue"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSliderController.barRoundValue">[docs]</a>    <span class="k">def</span> <span class="nf">barRoundValue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">roundToNearest</span><span class="p">,</span> <span class="n">bRoundUp</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Helper - Round to snap &quot;&quot;&quot;</span>
        <span class="n">tmpVal</span> <span class="o">=</span> <span class="p">(</span><span class="n">value</span> <span class="o">/</span> <span class="n">roundToNearest</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="o">-</span><span class="mf">0.5</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">bRoundUp</span><span class="p">))</span>
        <span class="n">tmp</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">tmpVal</span><span class="p">)</span>
        <span class="n">tmpVal</span> <span class="o">=</span> <span class="nb">round</span><span class="p">((</span><span class="n">tmpVal</span> <span class="o">-</span> <span class="n">tmp</span><span class="p">)</span> <span class="o">*</span> <span class="nb">pow</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="n">nValue</span> <span class="o">=</span> <span class="n">tmp</span> <span class="o">+</span> <span class="n">tmpVal</span> <span class="o">/</span> <span class="nb">pow</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">roundedValue</span> <span class="o">=</span> <span class="n">nValue</span> <span class="o">*</span> <span class="n">roundToNearest</span>

        <span class="k">return</span> <span class="n">roundedValue</span></div>

<div class="viewcode-block" id="RangeSliderController.caret_onMouseClick"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSliderController.caret_onMouseClick">[docs]</a>    <span class="k">def</span> <span class="nf">caret_onMouseClick</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">e</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Event - Caret On Mouse Click event</span>
<span class="sd">            - nothing</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Button &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">num</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; @ &quot;</span> <span class="o">+</span>
                  <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; : &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">y</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__lastMouseX</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">x</span></div>

<div class="viewcode-block" id="RangeSliderController.caret_onMouseRelease"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSliderController.caret_onMouseRelease">[docs]</a>    <span class="k">def</span> <span class="nf">caret_onMouseRelease</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">e</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Event - Caret on mouse release &quot;&quot;&quot;</span>
        <span class="k">return</span></div>

<div class="viewcode-block" id="RangeSliderController.leftCaret_onMouseMotion"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSliderController.leftCaret_onMouseMotion">[docs]</a>    <span class="k">def</span> <span class="nf">leftCaret_onMouseMotion</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">e</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Event - Caret OnMouseMotion</span>
<span class="sd">            - moves the caret that fired the event</span>
<span class="sd">            - the amount moved is a delta between cur caret bar pos</span>
<span class="sd">            - and the amount moved in canvas coords</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">canvasx</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">x</span><span class="p">))</span> <span class="o">+</span> <span class="s2">&quot; : &quot;</span> <span class="o">+</span>
                  <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">canvasy</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">y</span><span class="p">)))</span>

        <span class="c1"># leave early if the mouse is not aligned with the caret anymore</span>
        <span class="n">rightCaretX</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getRightCaretX</span><span class="p">()</span> <span class="o">+</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getCaretWidth</span><span class="p">())</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">canvasx</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">x</span><span class="p">)</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getBarX</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">setLower</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getLowerBound</span><span class="p">())</span>
        <span class="c1"># edge case, inside right caret</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">canvasx</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">x</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">rightCaretX</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">setLower</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getUpper</span><span class="p">())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__lastMouseX</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">x</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__snapToTicks</span><span class="p">:</span>
                <span class="n">newLower</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__snapCanvasXToSliderValue</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># determine how much to move</span>
                <span class="n">barDistance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__mouseMotionToBarDistance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__lastMouseX</span><span class="p">,</span> <span class="n">e</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>
                <span class="n">newLower</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getLower</span><span class="p">()</span> <span class="o">+</span> <span class="n">barDistance</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">setLower</span><span class="p">(</span><span class="n">newLower</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__lastMouseX</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">x</span>

        <span class="c1"># raise the caret to the top</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getUpper</span><span class="p">()</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getLowerBound</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">tag_raise</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getRightCaretId</span><span class="p">())</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">tag_raise</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getLeftCaretId</span><span class="p">())</span></div>

<div class="viewcode-block" id="RangeSliderController.rightCaret_onMouseMotion"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSliderController.rightCaret_onMouseMotion">[docs]</a>    <span class="k">def</span> <span class="nf">rightCaret_onMouseMotion</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">e</span><span class="p">):</span>
        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">canvasx</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">x</span><span class="p">))</span> <span class="o">+</span> <span class="s2">&quot; : &quot;</span> <span class="o">+</span>
                  <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">canvasy</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">y</span><span class="p">)))</span>

        <span class="c1"># leave early if the mouse is not aligned with the caret anymore</span>
        <span class="n">leftCaretX</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getLeftCaretX</span><span class="p">()</span> <span class="o">+</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getCaretWidth</span><span class="p">())</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">canvasx</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">x</span><span class="p">)</span> <span class="o">&gt;</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getBarX</span><span class="p">()</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getBarWidth</span><span class="p">()):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">setUpper</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getUpperBound</span><span class="p">())</span>
        <span class="c1"># edge case, inside right caret</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">canvasx</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">x</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">leftCaretX</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getLower</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getUpperBound</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">setUpper</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getLower</span><span class="p">())</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">__lastMouseX</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">x</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__snapToTicks</span><span class="p">:</span>
                <span class="n">newUpper</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__snapCanvasXToSliderValue</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># determine how much to move</span>
                <span class="n">barDistance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__mouseMotionToBarDistance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__lastMouseX</span><span class="p">,</span> <span class="n">e</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>
                <span class="n">newUpper</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getUpper</span><span class="p">()</span> <span class="o">+</span> <span class="n">barDistance</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">setUpper</span><span class="p">(</span><span class="n">newUpper</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__lastMouseX</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">x</span>

        <span class="c1"># raise the caret to the top</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getLower</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getUpperBound</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">tag_raise</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getLeftCaretId</span><span class="p">())</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">tag_raise</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getRightCaretId</span><span class="p">())</span></div>

<div class="viewcode-block" id="RangeSliderController.majorTick_onClick"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSliderController.majorTick_onClick">[docs]</a>    <span class="k">def</span> <span class="nf">majorTick_onClick</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">e</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Event - Major Tick onClick</span>
<span class="sd">            - Snaps the approriate caret to the position represented by the tick</span>
<span class="sd">            - Note: the tick canvas x is converted to bar x</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">w</span> <span class="o">=</span> <span class="n">CURRENT</span>
        <span class="n">tickCoords</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">coords</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
        <span class="n">tickWidth</span> <span class="o">=</span> <span class="n">tickCoords</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">tickCoords</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">barX</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__canvasXToBarX</span><span class="p">(</span><span class="n">tickCoords</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">tickWidth</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">barX</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getLower</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">setLower</span><span class="p">(</span><span class="n">barX</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">barX</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getUpper</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">setUpper</span><span class="p">(</span><span class="n">barX</span><span class="p">)</span></div>

<div class="viewcode-block" id="RangeSliderController.slider_onMouseClick"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSliderController.slider_onMouseClick">[docs]</a>    <span class="k">def</span> <span class="nf">slider_onMouseClick</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">e</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Event - Slider onClick</span>
<span class="sd">            - save the slider position</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__lastMouseX</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">x</span></div>

<div class="viewcode-block" id="RangeSliderController.slider_onMouseMotion"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSliderController.slider_onMouseMotion">[docs]</a>    <span class="k">def</span> <span class="nf">slider_onMouseMotion</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">e</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Event - Slider onMouseMotion</span>
<span class="sd">            - allows user to slide the slider by clicking the range inbetween</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">canvasx</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">x</span><span class="p">))</span> <span class="o">+</span> <span class="s2">&quot; : &quot;</span> <span class="o">+</span>
                  <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">canvasy</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">y</span><span class="p">)))</span>

        <span class="c1"># leave early if the mouse is not aligned with the slider anymore</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">canvasx</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">x</span><span class="p">)</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getBarX</span><span class="p">():</span>
            <span class="k">return</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">canvasx</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">x</span><span class="p">)</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getBarX</span><span class="p">()</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getBarWidth</span><span class="p">():</span>
            <span class="k">return</span>

        <span class="c1"># determine how much to move</span>
        <span class="n">barDistance</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">lowerAdjust</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">upperAdjust</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__snapToTicks</span><span class="p">:</span>
            <span class="n">step</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__mouseMotionToBarDistance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">canvasx</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__lastMouseX</span><span class="p">),</span>
                                                   <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">canvasx</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">x</span><span class="p">))</span> <span class="o">/</span> <span class="mf">2.0</span>
            <span class="n">tmp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getMinorTickSpacing</span><span class="p">()</span> <span class="o">/</span> <span class="mf">3.0</span>
            <span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">step</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">tmp</span><span class="p">:</span>
                <span class="n">lowerstep</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getLower</span><span class="p">()</span> <span class="o">+</span> <span class="n">step</span><span class="p">)</span>
                <span class="n">upperstep</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getUpper</span><span class="p">()</span> <span class="o">+</span> <span class="n">step</span><span class="p">)</span>
                <span class="n">bRoundUp</span> <span class="o">=</span> <span class="bp">False</span>
                <span class="k">if</span> <span class="n">step</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">bRoundUp</span> <span class="o">=</span> <span class="bp">True</span>

                <span class="n">lowerAdjust</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">barRoundValue</span><span class="p">(</span><span class="n">lowerstep</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getMinorTickSpacing</span><span class="p">(),</span> <span class="n">bRoundUp</span><span class="p">)</span>
                <span class="n">lowerAdjust</span> <span class="o">-=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getLower</span><span class="p">()</span>
                <span class="n">upperAdjust</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">barRoundValue</span><span class="p">(</span><span class="n">upperstep</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getMinorTickSpacing</span><span class="p">(),</span> <span class="n">bRoundUp</span><span class="p">)</span>
                <span class="n">upperAdjust</span> <span class="o">-=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getUpper</span><span class="p">()</span>

                <span class="c1"># bounds check</span>
                <span class="k">if</span> <span class="n">lowerAdjust</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getLower</span><span class="p">()</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getLowerBound</span><span class="p">():</span>
                    <span class="n">upperAdjust</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="k">if</span> <span class="n">upperAdjust</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getUpper</span><span class="p">()</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getUpperBound</span><span class="p">():</span>
                    <span class="n">lowerAdjust</span> <span class="o">=</span> <span class="mi">0</span>

                <span class="k">if</span> <span class="n">upperAdjust</span> <span class="o">!=</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">lowerAdjust</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">__lastMouseX</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">x</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">barDistance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__mouseMotionToBarDistance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">canvasx</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__lastMouseX</span><span class="p">),</span>
                                                          <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">canvasx</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">x</span><span class="p">))</span>

            <span class="c1"># detect bounds collision</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getLower</span><span class="p">()</span> <span class="o">+</span> <span class="n">barDistance</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getLowerBound</span><span class="p">():</span>
                <span class="n">barDistance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getLowerBound</span><span class="p">()</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getLower</span><span class="p">()</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getUpper</span><span class="p">()</span> <span class="o">+</span> <span class="n">barDistance</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getUpperBound</span><span class="p">():</span>
                <span class="n">barDistance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getUpperBound</span><span class="p">()</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getUpper</span><span class="p">()</span>

            <span class="n">lowerAdjust</span> <span class="o">=</span> <span class="n">barDistance</span>
            <span class="n">upperAdjust</span> <span class="o">=</span> <span class="n">barDistance</span>

            <span class="k">if</span> <span class="n">barDistance</span> <span class="o">!=</span> <span class="mf">0.0</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">__lastMouseX</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">x</span>

        <span class="c1"># adjust slider</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">setLower</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getLower</span><span class="p">()</span> <span class="o">+</span> <span class="n">lowerAdjust</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">setUpper</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getUpper</span><span class="p">()</span> <span class="o">+</span> <span class="n">upperAdjust</span><span class="p">)</span></div>

<div class="viewcode-block" id="RangeSliderController.update"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSliderController.update">[docs]</a>    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">e</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Update Logic</span>
<span class="sd">            - allows for a full update of all positions</span>
<span class="sd">            - left exposed for manual calling</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Performing RePositioning...&quot;</span><span class="p">)</span>

        <span class="c1"># position left caret</span>
        <span class="n">lower</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getLower</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">lower</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getUpper</span><span class="p">():</span>
            <span class="n">lower</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getUpper</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getLeftCaretId</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__positionCaret</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getLeftCaretId</span><span class="p">(),</span> <span class="n">lower</span><span class="p">)</span>

        <span class="c1"># position right caret</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getRightCaretId</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__positionCaret</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getRightCaretId</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getUpper</span><span class="p">())</span>

        <span class="c1"># position slider</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getSliderId</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__updateSlider</span><span class="p">()</span></div>

    <span class="k">def</span> <span class="nf">__positionCaret</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">caretId</span><span class="p">,</span> <span class="n">sliderValue</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; PositionCaret helper function</span>
<span class="sd">            - performs the simple task of positioning a caret at a point on the bar</span>
<span class="sd">            - sliderValue is intended to be in bar coords</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">caretCoords</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">coords</span><span class="p">(</span><span class="n">caretId</span><span class="p">)</span>
        <span class="n">barY</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getBarY</span><span class="p">()</span>
        <span class="n">barYCenter</span> <span class="o">=</span> <span class="n">barY</span> <span class="o">+</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getBarHeight</span><span class="p">()</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span>
        <span class="n">caretY</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getCaretHeight</span><span class="p">()</span> <span class="o">/</span> <span class="mf">2.0</span>
        <span class="n">caretHalfWidth</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getCaretWidth</span><span class="p">()</span> <span class="o">/</span> <span class="mf">2.0</span>

        <span class="n">canvasX</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__barXToCanvasX</span><span class="p">(</span><span class="n">sliderValue</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">canvasX</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getBarX</span><span class="p">()</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getBarWidth</span><span class="p">():</span>
            <span class="n">canvasX</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getBarX</span><span class="p">()</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getBarWidth</span><span class="p">()</span>
        <span class="n">canvasX</span> <span class="o">=</span> <span class="n">canvasX</span> <span class="o">-</span> <span class="n">caretHalfWidth</span>
        <span class="n">canvasY</span> <span class="o">=</span> <span class="n">barYCenter</span> <span class="o">-</span> <span class="n">caretCoords</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">caretY</span>
        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Moving caret to: (slider=</span><span class="si">%f</span><span class="s2">) </span><span class="si">%d</span><span class="s2">,</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">,</span>
                  <span class="n">sliderValue</span><span class="p">,</span>
                  <span class="n">canvasX</span><span class="p">,</span> <span class="n">canvasY</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getUpperBound</span><span class="p">()</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getLowerBound</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">itemconfig</span><span class="p">(</span><span class="n">caretId</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="s2">&quot;hidden&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">itemconfig</span><span class="p">(</span><span class="n">caretId</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">canvasX</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getBarX</span><span class="p">()</span> <span class="o">-</span> <span class="n">caretHalfWidth</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">itemconfig</span><span class="p">(</span><span class="n">caretId</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="s2">&quot;hidden&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">itemconfig</span><span class="p">(</span><span class="n">caretId</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">caretId</span><span class="p">,</span>
                         <span class="n">canvasX</span> <span class="o">-</span> <span class="n">caretCoords</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                         <span class="n">canvasY</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__updateSlider</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; updateSlider helper function</span>
<span class="sd">            - positions the slider at its correct point</span>
<span class="sd">            - we convert the distance on the bar into canvas coords</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">sliderId</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getSliderId</span><span class="p">()</span>
        <span class="n">sliderCoords</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">coords</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getSliderId</span><span class="p">())</span>
        <span class="n">sliderX</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getLeftCaretX</span><span class="p">()</span> <span class="o">+</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getCaretWidth</span><span class="p">()</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span>
        <span class="n">sliderY</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getBarY</span><span class="p">()</span>
        <span class="n">sliderHeight</span> <span class="o">=</span> <span class="n">sliderCoords</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">-</span> <span class="n">sliderCoords</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">sliderWidth</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getRange</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">sliderWidth</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__barRangeToCanvasDistance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getRange</span><span class="p">())</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getBoundsRange</span><span class="p">()</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">sliderX</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">sliderWidth</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">sliderHeight</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">sliderY</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">sliderWidth</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">sliderWidth</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">elif</span> <span class="n">sliderWidth</span> <span class="o">+</span> <span class="n">sliderX</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getRightCaretX</span><span class="p">()</span> <span class="o">+</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getCaretWidth</span><span class="p">()</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">):</span>
                <span class="n">sliderWidth</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getRightCaretX</span><span class="p">()</span> <span class="o">+</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getCaretWidth</span><span class="p">()</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">))</span> <span class="o">-</span> <span class="n">sliderX</span>

        <span class="c1"># bounds check</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">coords</span><span class="p">(</span><span class="n">sliderId</span><span class="p">,</span>
                           <span class="n">sliderX</span><span class="p">,</span> <span class="n">sliderY</span><span class="p">,</span>
                           <span class="n">sliderX</span> <span class="o">+</span> <span class="n">sliderWidth</span><span class="p">,</span> <span class="n">sliderY</span> <span class="o">+</span> <span class="n">sliderHeight</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__barXToCanvasX</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">point</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Helper - BarPointX To CanvasPointX</span>
<span class="sd">            - converts a value from the model into a point on the bar</span>
<span class="sd">            - then converts that bar point to an x value on the canvas</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">barLength</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getBarWidth</span><span class="p">()</span>
        <span class="n">canvasX</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="c1"># prevent trying to draw carets at invalid range</span>
        <span class="c1"># this is user problem</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getBoundsRange</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">unitPoint</span> <span class="o">=</span> <span class="n">barLength</span> <span class="o">/</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getBoundsRange</span><span class="p">())</span>
            <span class="n">translatedBarPoint</span> <span class="o">=</span> <span class="p">(</span><span class="n">point</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getLowerBound</span><span class="p">())</span>
            <span class="n">canvasX</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getBarX</span><span class="p">()</span> <span class="o">+</span> <span class="p">(</span><span class="n">unitPoint</span> <span class="o">*</span> <span class="n">translatedBarPoint</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">canvasX</span>

    <span class="k">def</span> <span class="nf">__barRangeToCanvasDistance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">range</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Helper - BarRange to CanvasDistance</span>
<span class="sd">            - this will convert the range on our slider bar to a distance</span>
<span class="sd">            - in canvas coords.</span>
<span class="sd">            - Note: if the bar length is 0 or the range is 0 this returns 0</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">barLength</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getBarWidth</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getBoundsRange</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">barLength</span> <span class="o">*</span> <span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="nb">range</span><span class="p">)</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getBoundsRange</span><span class="p">())</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">__canvasXToBarX</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">canvasX</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Helper - CanvasX to BarX</span>
<span class="sd">            - Converts an X coordinate in canvas coords to bar coords</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">barLength</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getBarWidth</span><span class="p">())</span>
        <span class="n">unitStep</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getBoundsRange</span><span class="p">())</span> <span class="o">/</span> <span class="n">barLength</span>

        <span class="c1"># check bounds</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__model</span><span class="o">.</span><span class="n">getLowerBound</span><span class="p">()</span> <span class="o">+</span> <span class="p">(</span><span class="n">unitStep</span> <span class="o">*</span>
                                               <span class="p">(</span><span class="n">canvasX</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getBarX</span><span class="p">()))</span>

    <span class="k">def</span> <span class="nf">__mouseMotionToBarDistance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">lastX</span><span class="p">,</span> <span class="n">newX</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Helper - MouseMotionToBarDistance</span>
<span class="sd">            - calculate the distance the mouse has moved in canvas coords</span>
<span class="sd">            - converts it to bar distance</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">barLastMouseX</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__canvasXToBarX</span><span class="p">(</span><span class="n">lastX</span><span class="p">)</span>
        <span class="n">barNewMouseX</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__canvasXToBarX</span><span class="p">(</span><span class="n">newX</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">barNewMouseX</span> <span class="o">-</span> <span class="n">barLastMouseX</span>

    <span class="k">def</span> <span class="nf">__snapCanvasXToSliderValue</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">canvasX</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Helper - Snap CanvasX Slider Value &quot;&quot;&quot;</span>
        <span class="c1"># find nearest tick to mouse pos</span>
        <span class="n">barPointX</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__canvasXToBarX</span><span class="p">(</span><span class="n">canvasX</span><span class="p">)</span>
        <span class="n">clickPointRounded</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">barPointX</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getMinorTickSpacing</span><span class="p">())</span>
        <span class="n">snapX</span> <span class="o">=</span> <span class="n">clickPointRounded</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">__view</span><span class="o">.</span><span class="n">getMinorTickSpacing</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">snapX</span></div>


<div class="viewcode-block" id="RangeSliderModel"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSliderModel">[docs]</a><span class="k">class</span> <span class="nc">RangeSliderModel</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot; The model (M in MVC)</span>
<span class="sd">    Fields</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">__callbacks</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">__lower</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">__lowerBound</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">__upper</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">__upperBound</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">init_color</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Constructor &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__stroke_color</span> <span class="o">=</span> <span class="n">init_color</span>

<div class="viewcode-block" id="RangeSliderModel.subscribe"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSliderModel.subscribe">[docs]</a>    <span class="k">def</span> <span class="nf">subscribe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">callback</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Callback subsystem &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__callbacks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">__notify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">state</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Notify all subscribers of a change &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">call</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__callbacks</span><span class="p">:</span>
            <span class="n">call</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>

    <span class="sd">&#39;&#39;&#39; Accessor/Mutator &#39;&#39;&#39;</span>
<div class="viewcode-block" id="RangeSliderModel.getLower"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSliderModel.getLower">[docs]</a>    <span class="k">def</span> <span class="nf">getLower</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__lower</span></div>

<div class="viewcode-block" id="RangeSliderModel.setLower"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSliderModel.setLower">[docs]</a>    <span class="k">def</span> <span class="nf">setLower</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">l</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">l</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">__lowerBound</span><span class="p">:</span>
            <span class="n">l</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__lowerBound</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__lower</span> <span class="o">=</span> <span class="n">l</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__notify</span><span class="p">()</span></div>

<div class="viewcode-block" id="RangeSliderModel.getUpper"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSliderModel.getUpper">[docs]</a>    <span class="k">def</span> <span class="nf">getUpper</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__upper</span></div>

<div class="viewcode-block" id="RangeSliderModel.setUpper"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSliderModel.setUpper">[docs]</a>    <span class="k">def</span> <span class="nf">setUpper</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">u</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">u</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">__upperBound</span><span class="p">:</span>
            <span class="n">u</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__upperBound</span>
        <span class="k">elif</span> <span class="n">u</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">__lower</span><span class="p">:</span>
            <span class="n">u</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__lower</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__upper</span> <span class="o">=</span> <span class="n">u</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__notify</span><span class="p">()</span></div>

<div class="viewcode-block" id="RangeSliderModel.getLowerBound"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSliderModel.getLowerBound">[docs]</a>    <span class="k">def</span> <span class="nf">getLowerBound</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__lowerBound</span></div>

<div class="viewcode-block" id="RangeSliderModel.setLowerBound"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSliderModel.setLowerBound">[docs]</a>    <span class="k">def</span> <span class="nf">setLowerBound</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">lb</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__lowerBound</span> <span class="o">=</span> <span class="n">lb</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__notify</span><span class="p">()</span></div>

<div class="viewcode-block" id="RangeSliderModel.getUpperBound"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSliderModel.getUpperBound">[docs]</a>    <span class="k">def</span> <span class="nf">getUpperBound</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__upperBound</span></div>

<div class="viewcode-block" id="RangeSliderModel.setUpperBound"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSliderModel.setUpperBound">[docs]</a>    <span class="k">def</span> <span class="nf">setUpperBound</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ub</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__upperBound</span> <span class="o">=</span> <span class="n">ub</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__notify</span><span class="p">()</span></div>

<div class="viewcode-block" id="RangeSliderModel.getRange"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSliderModel.getRange">[docs]</a>    <span class="k">def</span> <span class="nf">getRange</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__upper</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">__lower</span></div>

<div class="viewcode-block" id="RangeSliderModel.getBoundsRange"><a class="viewcode-back" href="../../../../sandbox.gui.useframes.rangeslider.html#sandbox.gui.useframes.rangeslider.RangeSliderModel.getBoundsRange">[docs]</a>    <span class="k">def</span> <span class="nf">getBoundsRange</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__upperBound</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">__lowerBound</span></div></div>


<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">END MEGAWIDGETS</span>
<span class="sd">&#39;&#39;&#39;</span>

</pre></div>

           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Daniel Kaufman.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../../',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>